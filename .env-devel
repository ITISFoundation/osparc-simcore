#
# - Keep it alfphabetical order and grouped by prefix [see vscode cmd: Sort Lines Ascending]
# - To expose:
#     set -o allexport
#     source .env
#     set +o allexport
#   or
#     export $(grep -v '^#' .env | xargs)
#     unset  $(grep -v '^#' .env | sed -E 's/(.*)=.*/\1/' | xargs)
#

AGENT_VOLUMES_CLEANUP_S3_SECURE=0
AGENT_VOLUMES_CLEANUP_S3_ENDPOINT=172.17.0.1:9001
AGENT_VOLUMES_CLEANUP_S3_ACCESS_KEY=12345678
AGENT_VOLUMES_CLEANUP_S3_SECRET_KEY=12345678
AGENT_VOLUMES_CLEANUP_S3_BUCKET=simcore-volume-backups
AGENT_VOLUMES_CLEANUP_S3_PROVIDER=MINIO

API_SERVER_DEV_FEATURES_ENABLED=0

BF_API_KEY=none
BF_API_SECRET=none

CATALOG_DEV_FEATURES_ENABLED=0
CATALOG_SERVICES_DEFAULT_RESOURCES='{"CPU": {"limit": 0.1, "reservation": 0.1}, "RAM": {"limit": 2147483648, "reservation": 2147483648}}'
CATALOG_SERVICES_DEFAULT_SPECIFICATIONS='{}'

DASK_SCHEDULER_HOST=dask-scheduler
DASK_SCHEDULER_PORT=8786

DIRECTOR_REGISTRY_CACHING_TTL=900
DIRECTOR_REGISTRY_CACHING=True

COMPUTATIONAL_BACKEND_DEFAULT_CLUSTER_URL=tcp://dask-scheduler:8786
DIRECTOR_V2_DEV_FEATURES_ENABLED=0

DYNAMIC_SIDECAR_IMAGE=${DOCKER_REGISTRY:-itisfoundation}/dynamic-sidecar:${DOCKER_IMAGE_TAG:-latest}
DYNAMIC_SIDECAR_LOG_LEVEL=DEBUG

FUNCTION_SERVICES_AUTHORS='{"UN": {"name": "Unknown", "email": "unknown@osparc.io", "affiliation": "unknown"}}'

# Can use 'docker run -it itisfoundation/invitations:latest simcore-service-invitations generate-dotenv --auto-password'
INVITATIONS_HOST=invitations
INVITATIONS_LOGLEVEL=INFO
INVITATIONS_OSPARC_URL=http://127.0.0.1.nip.io:9081
INVITATIONS_PASSWORD=adminadmin
INVITATIONS_PORT=8000
INVITATIONS_SECRET_KEY='REPLACE_ME_with_result__Fernet_generate_key='
INVITATIONS_USERNAME=admin

LOG_FORMAT_LOCAL_DEV_ENABLED=1


POSTGRES_DB=simcoredb
POSTGRES_ENDPOINT=postgres:5432
POSTGRES_HOST=postgres
POSTGRES_PASSWORD=adminadmin
POSTGRES_PORT=5432
POSTGRES_USER=scu

RABBIT_HOST=rabbit
RABBIT_PASSWORD=adminadmin
RABBIT_PORT=5672
RABBIT_USER=admin

REDIS_HOST=redis
REDIS_PORT=6379

REGISTRY_AUTH=True
REGISTRY_PW=adminadmin
REGISTRY_SSL=True
REGISTRY_URL=registry.osparc-master.speag.com
REGISTRY_USER=admin

# NOTE: 172.17.0.1 is the docker0 interface, which redirect from inside a container onto the host network interface.
R_CLONE_ENABLED=false
R_CLONE_PROVIDER=MINIO
S3_ACCESS_KEY=12345678
S3_BUCKET_NAME=simcore
S3_ENDPOINT=172.17.0.1:9001
S3_SECRET_KEY=12345678
S3_SECURE=0

SCICRUNCH_API_BASE_URL=https://scicrunch.org/api/1
SCICRUNCH_API_KEY=REPLACE_ME_with_valid_api_key

SMTP_HOST=mail.speag.com
SMTP_PORT=25

SIMCORE_SERVICES_NETWORK_NAME=interactive_services_subnet

# NOTE: STORAGE_ENDPOINT is needed by director-v0
STORAGE_ENDPOINT=storage:8080
STORAGE_HOST=storage
STORAGE_PORT=8080

SWARM_STACK_NAME=master-simcore

TRACING_ENABLED=1
TRACING_ZIPKIN_ENDPOINT=http://jaeger:9411
TRACING_THRIFT_COMPACT_ENDPOINT=http://jaeger:5775

TRAEFIK_SIMCORE_ZONE=internal_simcore_stack

# NOTE: WEBSERVER_SESSION_SECRET_KEY = $(python3 -c "from cryptography.fernet import Fernet; print(Fernet.generate_key())")

WEBSERVER_LOGLEVEL=INFO

WEBSERVER_PROJECTS={}
PROJECTS_MAX_COPY_SIZE_BYTES=30Gib
PROJECTS_MAX_NUM_RUNNING_DYNAMIC_NODES=5

WEBSERVER_ANNOUNCEMENTS=1

WEBSERVER_DEV_FEATURES_ENABLED=0

WEBSERVER_HOST=webserver

WEBSERVER_CATALOG={}
CATALOG_HOST=catalog
CATALOG_PORT=8000

WEBSERVER_SCICRUNCH={}

WEBSERVER_SESSION_SECRET_KEY='REPLACE_ME_with_result__Fernet_generate_key='

WEBSERVER_STATICWEB={}

WEBSERVER_STUDIES_DISPATCHER={}
STUDIES_ACCESS_ANONYMOUS_ALLOWED=0
STUDIES_DEFAULT_SERVICE_THUMBNAIL=https://via.placeholder.com/170x120.png

WEBSERVER_TRACING={}

WEBSERVER_GUNICORN_CMD_ARGS=--timeout=180

WEBSERVER_EXPORTER={}

WEBSERVER_EMAIL={}

DIRECTOR_HOST=director
DIRECTOR_PORT=8080

DIRECTOR_V2_HOST=director-v2
DIRECTOR_V2_PORT=8000

WEBSERVER_DIAGNOSTICS={}
DIAGNOSTICS_MAX_AVG_LATENCY=10
DIAGNOSTICS_MAX_TASK_DELAY=30
DIAGNOSTICS_SLOW_DURATION_SECS=1

WEBSERVER_GARBAGE_COLLECTOR=null

WEBSERVER_DB_LISTENER=0

WEBSERVER_LOGIN={}
LOGIN_REGISTRATION_CONFIRMATION_REQUIRED=0
LOGIN_REGISTRATION_INVITATION_REQUIRED=0
LOGIN_2FA_REQUIRED=0
LOGIN_2FA_CODE_EXPIRATION_SEC=60

WEBSERVER_FRONTEND={}

WEBSERVER_ACTIVITY=null
WEBSERVER_PROMETHEUS_API_VERSION=v1
WEBSERVER_PROMETHEUS_URL=http://prometheus:9090

RESOURCE_MANAGER_RESOURCE_TTL_S=900

RESOURCE_USAGE_TRACKER_HOST=resource-usage-tracker

WEBSERVER_NOTIFICATIONS=1

WEBSERVER_CLUSTERS=0
WEBSERVER_GROUPS=1
WEBSERVER_META_MODELING=1
WEBSERVER_PRODUCTS=1
WEBSERVER_PUBLICATIONS=1
WEBSERVER_SOCKETIO=1
WEBSERVER_TAGS=1
WEBSERVER_USERS=1
WEBSERVER_VERSION_CONTROL=1

# For development ONLY ---------------
#
# AIODEBUG_SLOW_DURATION_SECS=0.25
# API_SERVER_DEV_FEATURES_ENABLED=1
# API_SERVER_DEV_HTTP_CALLS_LOGS_PATH=captures.ignore.keep.log
# PYTHONASYNCIODEBUG=1
# PYTHONTRACEMALLOC=1
#
# ------------------------------------

AIODEBUG_SLOW_DURATION_SECS=0

# Webserver Garbage Collector

# the same in all deployments
WB_GC_LOGLEVEL=DEBUG

WB_GC_GARBAGE_COLLECTOR='{"GARBAGE_COLLECTOR_INTERVAL_S": 30}'
WB_GC_RESOURCE_MANAGER_RESOURCE_TTL_S=60

WB_GC_ANNOUNCEMENTS=0
WB_GC_ACTIVITY=null
WB_GC_CATALOG=null
WB_GC_NOTIFICATIONS=0
WB_GC_DB_LISTENER=0
WB_GC_DIAGNOSTICS=null
WB_GC_EMAIL=null
WB_GC_EXPORTER=null
WB_GC_FRONTEND=null
WB_GC_LOGIN=null
WB_GC_PROJECTS=null
WB_GC_SCICRUNCH=null
WB_GC_STATICWEB=null

WB_GC_TRACING=null
WB_GC_CLUSTERS=0
WB_GC_GROUPS=0
WB_GC_META_MODELING=0
WB_GC_PRODUCTS=0
WB_GC_PUBLICATIONS=0
WB_GC_SOCKETIO=1
WB_GC_STUDIES_DISPATCHER=null
WB_GC_TAGS=0
WB_GC_USERS=0
WB_GC_VERSION_CONTROL=0

# WebServer DB Event Listener

WB_DB_EL_LOGLEVEL=DEBUG
WB_DB_EL_DB_LISTENER=1
WB_DB_EL_SOCKETIO=1

WB_DB_EL_ANNOUNCEMENTS=0
WB_DB_EL_ACTIVITY=null
WB_DB_EL_CATALOG=null
WB_DB_EL_NOTIFICATIONS=0
WB_DB_EL_DIAGNOSTICS=null
WB_DB_EL_EMAIL=null
WB_DB_EL_EXPORTER=null
WB_DB_EL_FRONTEND=null
WB_DB_EL_GARBAGE_COLLECTOR=null
WB_DB_EL_LOGIN=null
WB_DB_EL_PROJECTS=null
WB_DB_EL_SCICRUNCH=null
WB_DB_EL_STATICWEB=null
WB_DB_EL_STORAGE=null
WB_DB_EL_STUDIES_DISPATCHER=null
WB_DB_EL_TRACING=null
WB_DB_EL_CLUSTERS=0
WB_DB_EL_GROUPS=0
WB_DB_EL_META_MODELING=0
WB_DB_EL_PRODUCTS=0
WB_DB_EL_PUBLICATIONS=0
WB_DB_EL_TAGS=0
WB_DB_EL_USERS=0
WB_DB_EL_VERSION_CONTROL=0
