# Contract testing (PACT)

- Maintainer @matusdrobuliak66

## How to run this test as a provider?

```bash
PACT_BROKER_URL=<fill-broker-url> PACT_BROKER_USERNAME=<fill-username> PACT_BROKER_PASSWORD=<fill-secret>

make test-pacts
```

## How to run this test locally?

- Still not implemented
- The idea would be use local copies of the pacts  (see services/api-server/tests/unit/pact_broker/pacts/*.json) instead of reaching the pact server for them.

## How to install and Publish new contract to Broker?

Contracts are generated by Consumer (ex. Sim4Life)

### Install

```bash
npm install @pact-foundation/pact-cli
```

#### Publish

```bash
pact-broker publish ./pacts/05_licensed_items.json --tag licensed_items --consumer-app-version 8.2.1 --broker-base-url=<fill-broker-url> --broker-username=<fill-username> --broker-password=<fill-secret>
```
