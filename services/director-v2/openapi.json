{
  "openapi": "3.1.0",
  "info": {
    "title": "simcore-service-director-v2",
    "description": " Orchestrates the pipeline of services defined by the user",
    "version": "2.2.0"
  },
  "servers": [
    {
      "url": "/",
      "description": "Default server: requests directed to serving url"
    },
    {
      "url": "http://{host}:{port}",
      "description": "Development server: can configure any base url",
      "variables": {
        "host": {
          "default": "127.0.0.1"
        },
        "port": {
          "default": "8000"
        }
      }
    }
  ],
  "paths": {
    "/": {
      "get": {
        "summary": "Check Service Health",
        "operationId": "check_service_health__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthCheckGet"
                }
              }
            }
          }
        }
      }
    },
    "/meta": {
      "get": {
        "summary": "Get Service Metadata",
        "operationId": "get_service_metadata_meta_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Meta"
                }
              }
            }
          }
        }
      }
    },
    "/v2/computations": {
      "post": {
        "tags": [
          "computations"
        ],
        "summary": "Create and optionally start a new computation",
        "operationId": "create_computation_v2_computations_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ComputationCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ComputationGet"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v2/computations/{project_id}": {
      "get": {
        "tags": [
          "computations"
        ],
        "summary": "Returns a computation pipeline state",
        "operationId": "get_computation_v2_computations__project_id__get",
        "parameters": [
          {
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Project Id"
            },
            "name": "project_id",
            "in": "path"
          },
          {
            "required": true,
            "schema": {
              "type": "integer",
              "exclusiveMinimum": true,
              "title": "User Id",
              "minimum": 0
            },
            "name": "user_id",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ComputationGet"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "computations"
        ],
        "summary": "Deletes a computation pipeline",
        "operationId": "delete_computation_v2_computations__project_id__delete",
        "parameters": [
          {
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Project Id"
            },
            "name": "project_id",
            "in": "path"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ComputationDelete"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v2/computations/{project_id}:stop": {
      "post": {
        "tags": [
          "computations"
        ],
        "summary": "Stops a computation pipeline",
        "operationId": "stop_computation_v2_computations__project_id__stop_post",
        "parameters": [
          {
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Project Id"
            },
            "name": "project_id",
            "in": "path"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ComputationStop"
              }
            }
          },
          "required": true
        },
        "responses": {
          "202": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ComputationGet"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v2/computations/{project_id}/tasks/-/logfile": {
      "get": {
        "tags": [
          "computations"
        ],
        "summary": "Gets computation task logs file after is done",
        "description": "Returns download links to log-files of each task in a computation.\nEach log is only available when the corresponding task is done",
        "operationId": "get_all_tasks_log_files_v2_computations__project_id__tasks___logfile_get",
        "parameters": [
          {
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Project Id"
            },
            "name": "project_id",
            "in": "path"
          },
          {
            "required": true,
            "schema": {
              "type": "integer",
              "exclusiveMinimum": true,
              "title": "User Id",
              "minimum": 0
            },
            "name": "user_id",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/TaskLogFileGet"
                  },
                  "type": "array",
                  "title": "Response Get All Tasks Log Files V2 Computations  Project Id  Tasks   Logfile Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v2/computations/{project_id}/tasks/{node_uuid}/logfile": {
      "get": {
        "tags": [
          "computations"
        ],
        "summary": "Gets computation task logs file after is done",
        "description": "Returns a link to download logs file of a give task.\nThe log is only available when the task is done",
        "operationId": "get_task_log_file_v2_computations__project_id__tasks__node_uuid__logfile_get",
        "parameters": [
          {
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Project Id"
            },
            "name": "project_id",
            "in": "path"
          },
          {
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Node Uuid"
            },
            "name": "node_uuid",
            "in": "path"
          },
          {
            "required": true,
            "schema": {
              "type": "integer",
              "exclusiveMinimum": true,
              "title": "User Id",
              "minimum": 0
            },
            "name": "user_id",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TaskLogFileGet"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v2/dynamic_services": {
      "get": {
        "tags": [
          "dynamic services"
        ],
        "summary": "returns a list of running interactive services filtered by user_id and/or project_idboth legacy (director-v0) and modern (director-v2)",
        "operationId": "list_tracked_dynamic_services_v2_dynamic_services_get",
        "parameters": [
          {
            "required": false,
            "schema": {
              "type": "integer",
              "exclusiveMinimum": true,
              "title": "User Id",
              "minimum": 0
            },
            "name": "user_id",
            "in": "query"
          },
          {
            "required": false,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Project Id"
            },
            "name": "project_id",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/RunningDynamicServiceDetails"
                  },
                  "type": "array",
                  "title": "Response List Tracked Dynamic Services V2 Dynamic Services Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "dynamic services"
        ],
        "summary": "creates & starts the dynamic service",
        "operationId": "create_dynamic_service_v2_dynamic_services_post",
        "parameters": [
          {
            "required": true,
            "schema": {
              "type": "string",
              "title": "X-Dynamic-Sidecar-Request-Dns"
            },
            "name": "x-dynamic-sidecar-request-dns",
            "in": "header"
          },
          {
            "required": true,
            "schema": {
              "type": "string",
              "title": "X-Dynamic-Sidecar-Request-Scheme"
            },
            "name": "x-dynamic-sidecar-request-scheme",
            "in": "header"
          },
          {
            "required": true,
            "schema": {
              "type": "string",
              "title": "X-Simcore-User-Agent"
            },
            "name": "x-simcore-user-agent",
            "in": "header"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DynamicServiceCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RunningDynamicServiceDetails"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v2/dynamic_services/{node_uuid}": {
      "get": {
        "tags": [
          "dynamic services"
        ],
        "summary": "assembles the status for the dynamic-sidecar",
        "operationId": "get_dynamic_sidecar_status_v2_dynamic_services__node_uuid__get",
        "parameters": [
          {
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Node Uuid"
            },
            "name": "node_uuid",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RunningDynamicServiceDetails"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "dynamic services"
        ],
        "summary": "stops previously spawned dynamic-sidecar",
        "operationId": "stop_dynamic_service_v2_dynamic_services__node_uuid__delete",
        "parameters": [
          {
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Node Uuid"
            },
            "name": "node_uuid",
            "in": "path"
          },
          {
            "required": false,
            "schema": {
              "type": "boolean",
              "title": "Can Save",
              "default": true
            },
            "name": "can_save",
            "in": "query"
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v2/dynamic_services/{node_uuid}:retrieve": {
      "post": {
        "tags": [
          "dynamic services"
        ],
        "summary": "Calls the dynamic service's retrieve endpoint with optional port_keys",
        "operationId": "service_retrieve_data_on_ports_v2_dynamic_services__node_uuid__retrieve_post",
        "parameters": [
          {
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Node Uuid"
            },
            "name": "node_uuid",
            "in": "path"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RetrieveDataIn"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RetrieveDataOutEnveloped"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v2/dynamic_services/{node_uuid}:restart": {
      "post": {
        "tags": [
          "dynamic services"
        ],
        "summary": "Calls the dynamic service's restart containers endpoint",
        "operationId": "service_restart_containers_v2_dynamic_services__node_uuid__restart_post",
        "parameters": [
          {
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Node Uuid"
            },
            "name": "node_uuid",
            "in": "path"
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v2/dynamic_services/projects/{project_id}/-/networks": {
      "patch": {
        "tags": [
          "dynamic services"
        ],
        "summary": "Updates the project networks according to the current project's workbench",
        "operationId": "update_projects_networks_v2_dynamic_services_projects__project_id____networks_patch",
        "parameters": [
          {
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Project Id"
            },
            "name": "project_id",
            "in": "path"
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v2/clusters": {
      "get": {
        "tags": [
          "clusters"
        ],
        "summary": "Lists clusters for user",
        "operationId": "list_clusters_v2_clusters_get",
        "parameters": [
          {
            "required": true,
            "schema": {
              "type": "integer",
              "exclusiveMinimum": true,
              "title": "User Id",
              "minimum": 0
            },
            "name": "user_id",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/ClusterGet"
                  },
                  "type": "array",
                  "title": "Response List Clusters V2 Clusters Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "clusters"
        ],
        "summary": "Create a new cluster for a user",
        "operationId": "create_cluster_v2_clusters_post",
        "parameters": [
          {
            "required": true,
            "schema": {
              "type": "integer",
              "exclusiveMinimum": true,
              "title": "User Id",
              "minimum": 0
            },
            "name": "user_id",
            "in": "query"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ClusterCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ClusterGet"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v2/clusters/default": {
      "get": {
        "tags": [
          "clusters"
        ],
        "summary": "Returns the default cluster",
        "operationId": "get_default_cluster_v2_clusters_default_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ClusterGet"
                }
              }
            }
          }
        }
      }
    },
    "/v2/clusters/{cluster_id}": {
      "get": {
        "tags": [
          "clusters"
        ],
        "summary": "Get one cluster for user",
        "operationId": "get_cluster_v2_clusters__cluster_id__get",
        "parameters": [
          {
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "title": "Cluster Id"
            },
            "name": "cluster_id",
            "in": "path"
          },
          {
            "required": true,
            "schema": {
              "type": "integer",
              "exclusiveMinimum": true,
              "title": "User Id",
              "minimum": 0
            },
            "name": "user_id",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ClusterGet"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "clusters"
        ],
        "summary": "Remove a cluster for user",
        "operationId": "delete_cluster_v2_clusters__cluster_id__delete",
        "parameters": [
          {
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "title": "Cluster Id"
            },
            "name": "cluster_id",
            "in": "path"
          },
          {
            "required": true,
            "schema": {
              "type": "integer",
              "exclusiveMinimum": true,
              "title": "User Id",
              "minimum": 0
            },
            "name": "user_id",
            "in": "query"
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "clusters"
        ],
        "summary": "Modify a cluster for user",
        "operationId": "update_cluster_v2_clusters__cluster_id__patch",
        "parameters": [
          {
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "title": "Cluster Id"
            },
            "name": "cluster_id",
            "in": "path"
          },
          {
            "required": true,
            "schema": {
              "type": "integer",
              "exclusiveMinimum": true,
              "title": "User Id",
              "minimum": 0
            },
            "name": "user_id",
            "in": "query"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ClusterPatch"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ClusterGet"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v2/clusters/default/details": {
      "get": {
        "tags": [
          "clusters"
        ],
        "summary": "Returns the cluster details",
        "operationId": "get_default_cluster_details_v2_clusters_default_details_get",
        "parameters": [
          {
            "required": true,
            "schema": {
              "type": "integer",
              "exclusiveMinimum": true,
              "title": "User Id",
              "minimum": 0
            },
            "name": "user_id",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ClusterDetailsGet"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v2/clusters/{cluster_id}/details": {
      "get": {
        "tags": [
          "clusters"
        ],
        "summary": "Returns the cluster details",
        "operationId": "get_cluster_details_v2_clusters__cluster_id__details_get",
        "parameters": [
          {
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "title": "Cluster Id"
            },
            "name": "cluster_id",
            "in": "path"
          },
          {
            "required": true,
            "schema": {
              "type": "integer",
              "exclusiveMinimum": true,
              "title": "User Id",
              "minimum": 0
            },
            "name": "user_id",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ClusterDetailsGet"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v2/clusters:ping": {
      "post": {
        "tags": [
          "clusters"
        ],
        "summary": "Test cluster connection",
        "operationId": "test_cluster_connection_v2_clusters_ping_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ClusterPing"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v2/clusters/default:ping": {
      "post": {
        "tags": [
          "clusters"
        ],
        "summary": "Test cluster connection",
        "operationId": "test_default_cluster_connection_v2_clusters_default_ping_post",
        "responses": {
          "204": {
            "description": "Successful Response"
          }
        }
      }
    },
    "/v2/clusters/{cluster_id}:ping": {
      "post": {
        "tags": [
          "clusters"
        ],
        "summary": "Test cluster connection",
        "operationId": "test_specific_cluster_connection_v2_clusters__cluster_id__ping_post",
        "parameters": [
          {
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "title": "Cluster Id"
            },
            "name": "cluster_id",
            "in": "path"
          },
          {
            "required": true,
            "schema": {
              "type": "integer",
              "exclusiveMinimum": true,
              "title": "User Id",
              "minimum": 0
            },
            "name": "user_id",
            "in": "query"
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v2/dynamic_scheduler/services/{node_uuid}/observation": {
      "patch": {
        "tags": [
          "dynamic scheduler"
        ],
        "summary": "Enable/disable observation of the service",
        "operationId": "update_service_observation_v2_dynamic_scheduler_services__node_uuid__observation_patch",
        "parameters": [
          {
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Node Uuid"
            },
            "name": "node_uuid",
            "in": "path"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ObservationItem"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v2/dynamic_scheduler/services/{node_uuid}/containers": {
      "delete": {
        "tags": [
          "dynamic scheduler"
        ],
        "summary": "Removes the service's user services",
        "operationId": "delete_service_containers_v2_dynamic_scheduler_services__node_uuid__containers_delete",
        "parameters": [
          {
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Node Uuid"
            },
            "name": "node_uuid",
            "in": "path"
          }
        ],
        "responses": {
          "202": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "title": "Response Delete Service Containers V2 Dynamic Scheduler Services  Node Uuid  Containers Delete"
                }
              }
            }
          },
          "409": {
            "description": "Task already running, cannot start a new one"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v2/dynamic_scheduler/services/{node_uuid}/state:save": {
      "post": {
        "tags": [
          "dynamic scheduler"
        ],
        "summary": "Starts the saving of the state for the service",
        "operationId": "save_service_state_v2_dynamic_scheduler_services__node_uuid__state_save_post",
        "parameters": [
          {
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Node Uuid"
            },
            "name": "node_uuid",
            "in": "path"
          }
        ],
        "responses": {
          "202": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "title": "Response Save Service State V2 Dynamic Scheduler Services  Node Uuid  State Save Post"
                }
              }
            }
          },
          "409": {
            "description": "Task already running, cannot start a new one"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v2/dynamic_scheduler/services/{node_uuid}/outputs:push": {
      "post": {
        "tags": [
          "dynamic scheduler"
        ],
        "summary": "Starts the pushing of the outputs for the service",
        "operationId": "push_service_outputs_v2_dynamic_scheduler_services__node_uuid__outputs_push_post",
        "parameters": [
          {
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Node Uuid"
            },
            "name": "node_uuid",
            "in": "path"
          }
        ],
        "responses": {
          "202": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "title": "Response Push Service Outputs V2 Dynamic Scheduler Services  Node Uuid  Outputs Push Post"
                }
              }
            }
          },
          "409": {
            "description": "Task already running, cannot start a new one"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v2/dynamic_scheduler/services/{node_uuid}/docker-resources": {
      "delete": {
        "tags": [
          "dynamic scheduler"
        ],
        "summary": "Removes the service's sidecar, proxy and docker networks & volumes",
        "operationId": "delete_service_docker_resources_v2_dynamic_scheduler_services__node_uuid__docker_resources_delete",
        "parameters": [
          {
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Node Uuid"
            },
            "name": "node_uuid",
            "in": "path"
          }
        ],
        "responses": {
          "202": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "title": "Response Delete Service Docker Resources V2 Dynamic Scheduler Services  Node Uuid  Docker Resources Delete"
                }
              }
            }
          },
          "409": {
            "description": "Task already running, cannot start a new one"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "BootMode": {
        "type": "string",
        "enum": [
          "CPU",
          "GPU",
          "MPI"
        ],
        "title": "BootMode",
        "description": "An enumeration."
      },
      "ClusterAccessRights": {
        "properties": {
          "read": {
            "type": "boolean",
            "title": "Read",
            "description": "allows to run pipelines on that cluster"
          },
          "write": {
            "type": "boolean",
            "title": "Write",
            "description": "allows to modify the cluster"
          },
          "delete": {
            "type": "boolean",
            "title": "Delete",
            "description": "allows to delete a cluster"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "read",
          "write",
          "delete"
        ],
        "title": "ClusterAccessRights"
      },
      "ClusterCreate": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "The human readable name of the cluster"
          },
          "description": {
            "type": "string",
            "title": "Description"
          },
          "type": {
            "$ref": "#/components/schemas/ClusterTypeInModel"
          },
          "owner": {
            "type": "integer",
            "exclusiveMinimum": true,
            "title": "Owner",
            "minimum": 0
          },
          "thumbnail": {
            "type": "string",
            "maxLength": 2083,
            "minLength": 1,
            "format": "uri",
            "title": "Thumbnail",
            "description": "url to the image describing this cluster"
          },
          "endpoint": {
            "type": "string",
            "maxLength": 65536,
            "minLength": 1,
            "format": "uri",
            "title": "Endpoint"
          },
          "authentication": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/SimpleAuthentication"
              },
              {
                "$ref": "#/components/schemas/KerberosAuthentication"
              },
              {
                "$ref": "#/components/schemas/JupyterHubTokenAuthentication"
              }
            ],
            "title": "Authentication"
          },
          "accessRights": {
            "additionalProperties": {
              "$ref": "#/components/schemas/ClusterAccessRights"
            },
            "type": "object",
            "title": "Accessrights"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "name",
          "type",
          "endpoint",
          "authentication"
        ],
        "title": "ClusterCreate"
      },
      "ClusterDetailsGet": {
        "properties": {
          "scheduler": {
            "allOf": [
              {
                "$ref": "#/components/schemas/Scheduler"
              }
            ],
            "title": "Scheduler",
            "description": "This contains dask scheduler information given by the underlying dask library"
          },
          "dashboard_link": {
            "type": "string",
            "maxLength": 65536,
            "minLength": 1,
            "format": "uri",
            "title": "Dashboard Link",
            "description": "Link to this scheduler's dashboard"
          }
        },
        "type": "object",
        "required": [
          "scheduler",
          "dashboard_link"
        ],
        "title": "ClusterDetailsGet"
      },
      "ClusterGet": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "The human readable name of the cluster"
          },
          "description": {
            "type": "string",
            "title": "Description"
          },
          "type": {
            "$ref": "#/components/schemas/ClusterTypeInModel"
          },
          "owner": {
            "type": "integer",
            "exclusiveMinimum": true,
            "title": "Owner",
            "minimum": 0
          },
          "thumbnail": {
            "type": "string",
            "maxLength": 2083,
            "minLength": 1,
            "format": "uri",
            "title": "Thumbnail",
            "description": "url to the image describing this cluster"
          },
          "endpoint": {
            "type": "string",
            "maxLength": 65536,
            "minLength": 1,
            "format": "uri",
            "title": "Endpoint"
          },
          "authentication": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/SimpleAuthentication"
              },
              {
                "$ref": "#/components/schemas/KerberosAuthentication"
              },
              {
                "$ref": "#/components/schemas/JupyterHubTokenAuthentication"
              },
              {
                "$ref": "#/components/schemas/NoAuthentication"
              }
            ],
            "title": "Authentication",
            "description": "Dask gateway authentication"
          },
          "accessRights": {
            "additionalProperties": {
              "$ref": "#/components/schemas/ClusterAccessRights"
            },
            "type": "object",
            "title": "Accessrights"
          },
          "id": {
            "type": "integer",
            "minimum": 0,
            "title": "Id",
            "description": "The cluster ID"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "name",
          "type",
          "owner",
          "endpoint",
          "authentication",
          "id"
        ],
        "title": "ClusterGet"
      },
      "ClusterPatch": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "type": "string",
            "title": "Description"
          },
          "type": {
            "$ref": "#/components/schemas/ClusterTypeInModel"
          },
          "owner": {
            "type": "integer",
            "exclusiveMinimum": true,
            "title": "Owner",
            "minimum": 0
          },
          "thumbnail": {
            "type": "string",
            "maxLength": 2083,
            "minLength": 1,
            "format": "uri",
            "title": "Thumbnail"
          },
          "endpoint": {
            "type": "string",
            "maxLength": 65536,
            "minLength": 1,
            "format": "uri",
            "title": "Endpoint"
          },
          "authentication": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/SimpleAuthentication"
              },
              {
                "$ref": "#/components/schemas/KerberosAuthentication"
              },
              {
                "$ref": "#/components/schemas/JupyterHubTokenAuthentication"
              }
            ],
            "title": "Authentication"
          },
          "accessRights": {
            "additionalProperties": {
              "$ref": "#/components/schemas/ClusterAccessRights"
            },
            "type": "object",
            "title": "Accessrights"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "ClusterPatch"
      },
      "ClusterPing": {
        "properties": {
          "endpoint": {
            "type": "string",
            "maxLength": 65536,
            "minLength": 1,
            "format": "uri",
            "title": "Endpoint"
          },
          "authentication": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/SimpleAuthentication"
              },
              {
                "$ref": "#/components/schemas/KerberosAuthentication"
              },
              {
                "$ref": "#/components/schemas/JupyterHubTokenAuthentication"
              },
              {
                "$ref": "#/components/schemas/NoAuthentication"
              }
            ],
            "title": "Authentication",
            "description": "Dask gateway authentication"
          }
        },
        "type": "object",
        "required": [
          "endpoint",
          "authentication"
        ],
        "title": "ClusterPing"
      },
      "ClusterTypeInModel": {
        "type": "string",
        "enum": [
          "AWS",
          "ON_PREMISE",
          "ON_DEMAND"
        ],
        "title": "ClusterTypeInModel",
        "description": "An enumeration."
      },
      "ComputationCreate": {
        "properties": {
          "user_id": {
            "type": "integer",
            "exclusiveMinimum": true,
            "title": "User Id",
            "minimum": 0
          },
          "project_id": {
            "type": "string",
            "format": "uuid",
            "title": "Project Id"
          },
          "start_pipeline": {
            "type": "boolean",
            "title": "Start Pipeline",
            "description": "if True the computation pipeline will start right away",
            "default": false
          },
          "product_name": {
            "type": "string",
            "title": "Product Name"
          },
          "subgraph": {
            "items": {
              "type": "string",
              "format": "uuid"
            },
            "type": "array",
            "title": "Subgraph",
            "description": "An optional set of nodes that must be executed, if empty the whole pipeline is executed"
          },
          "force_restart": {
            "type": "boolean",
            "title": "Force Restart",
            "description": "if True will force re-running all dependent nodes",
            "default": false
          },
          "cluster_id": {
            "type": "integer",
            "minimum": 0,
            "title": "Cluster Id",
            "description": "the computation shall use the cluster described by its id, 0 is the default cluster"
          },
          "simcore_user_agent": {
            "type": "string",
            "title": "Simcore User Agent",
            "default": ""
          },
          "use_on_demand_clusters": {
            "type": "boolean",
            "title": "Use On Demand Clusters",
            "description": "if True, a cluster will be created as necessary (wallet_id cannot be None, and cluster_id must be None)",
            "default": false
          },
          "wallet_info": {
            "allOf": [
              {
                "$ref": "#/components/schemas/WalletInfo"
              }
            ],
            "title": "Wallet Info",
            "description": "contains information about the wallet used to bill the running service"
          }
        },
        "type": "object",
        "required": [
          "user_id",
          "project_id",
          "product_name"
        ],
        "title": "ComputationCreate"
      },
      "ComputationDelete": {
        "properties": {
          "user_id": {
            "type": "integer",
            "exclusiveMinimum": true,
            "title": "User Id",
            "minimum": 0
          },
          "force": {
            "type": "boolean",
            "title": "Force",
            "description": "if True then the pipeline will be removed even if it is running",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "user_id"
        ],
        "title": "ComputationDelete"
      },
      "ComputationGet": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "the id of the computation task"
          },
          "state": {
            "allOf": [
              {
                "$ref": "#/components/schemas/RunningState"
              }
            ],
            "description": "the state of the computational task"
          },
          "result": {
            "type": "string",
            "title": "Result",
            "description": "the result of the computational task"
          },
          "pipeline_details": {
            "allOf": [
              {
                "$ref": "#/components/schemas/PipelineDetails"
              }
            ],
            "title": "Pipeline Details",
            "description": "the details of the generated pipeline"
          },
          "iteration": {
            "type": "integer",
            "exclusiveMinimum": true,
            "title": "Iteration",
            "description": "the iteration id of the computation task (none if no task ran yet)",
            "minimum": 0
          },
          "cluster_id": {
            "type": "integer",
            "minimum": 0,
            "title": "Cluster Id",
            "description": "the cluster on which the computaional task runs/ran (none if no task ran yet)"
          },
          "started": {
            "type": "string",
            "format": "date-time",
            "title": "Started",
            "description": "the timestamp when the computation was started or None if not started yet"
          },
          "stopped": {
            "type": "string",
            "format": "date-time",
            "title": "Stopped",
            "description": "the timestamp when the computation was stopped or None if not started nor stopped yet"
          },
          "submitted": {
            "type": "string",
            "format": "date-time",
            "title": "Submitted",
            "description": "task last modification timestamp or None if the there is no task"
          },
          "url": {
            "type": "string",
            "maxLength": 65536,
            "minLength": 1,
            "format": "uri",
            "title": "Url",
            "description": "the link where to get the status of the task"
          },
          "stop_url": {
            "type": "string",
            "maxLength": 65536,
            "minLength": 1,
            "format": "uri",
            "title": "Stop Url",
            "description": "the link where to stop the task"
          }
        },
        "type": "object",
        "required": [
          "id",
          "state",
          "pipeline_details",
          "iteration",
          "cluster_id",
          "started",
          "stopped",
          "submitted",
          "url"
        ],
        "title": "ComputationGet"
      },
      "ComputationStop": {
        "properties": {
          "user_id": {
            "type": "integer",
            "exclusiveMinimum": true,
            "title": "User Id",
            "minimum": 0
          }
        },
        "type": "object",
        "required": [
          "user_id"
        ],
        "title": "ComputationStop"
      },
      "DictModel_str__PositiveFloat_": {
        "additionalProperties": {
          "type": "number",
          "exclusiveMinimum": true,
          "minimum": 0.0
        },
        "type": "object",
        "title": "DictModel[str, PositiveFloat]"
      },
      "DynamicServiceCreate": {
        "properties": {
          "service_key": {
            "type": "string",
            "pattern": "^simcore/services/dynamic/([a-z0-9][a-z0-9_.-]*/)*([a-z0-9-_]+[a-z0-9])$",
            "title": "Service Key",
            "description": "distinctive name for the node based on the docker registry path"
          },
          "service_version": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.(0|[1-9]\\d*)){2}(-(0|[1-9]\\d*|\\d*[-a-zA-Z][-\\da-zA-Z]*)(\\.(0|[1-9]\\d*|\\d*[-a-zA-Z][-\\da-zA-Z]*))*)?(\\+[-\\da-zA-Z]+(\\.[-\\da-zA-Z-]+)*)?$",
            "title": "Service Version",
            "description": "semantic version number of the node"
          },
          "user_id": {
            "type": "integer",
            "exclusiveMinimum": true,
            "title": "User Id",
            "minimum": 0
          },
          "project_id": {
            "type": "string",
            "format": "uuid",
            "title": "Project Id"
          },
          "service_uuid": {
            "type": "string",
            "format": "uuid",
            "title": "Service Uuid"
          },
          "service_basepath": {
            "type": "string",
            "format": "path",
            "title": "Service Basepath",
            "description": "predefined path where the dynamic service should be served. If empty, the service shall use the root endpoint."
          },
          "service_resources": {
            "additionalProperties": {
              "$ref": "#/components/schemas/ImageResources"
            },
            "type": "object",
            "title": "Service Resources"
          },
          "product_name": {
            "type": "string",
            "title": "Product Name",
            "description": "Current product name"
          },
          "can_save": {
            "type": "boolean",
            "title": "Can Save",
            "description": "the service data must be saved when closing"
          },
          "wallet_info": {
            "allOf": [
              {
                "$ref": "#/components/schemas/WalletInfo"
              }
            ],
            "title": "Wallet Info",
            "description": "contains information about the wallet used to bill the running service"
          }
        },
        "type": "object",
        "required": [
          "service_key",
          "service_version",
          "user_id",
          "project_id",
          "service_uuid",
          "service_resources",
          "product_name",
          "can_save"
        ],
        "title": "DynamicServiceCreate",
        "example": {
          "key": "simcore/services/dynamic/3dviewer",
          "version": "2.4.5",
          "user_id": 234,
          "project_id": "dd1d04d9-d704-4f7e-8f0f-1ca60cc771fe",
          "node_uuid": "75c7f3f4-18f9-4678-8610-54a2ade78eaa",
          "basepath": "/x/75c7f3f4-18f9-4678-8610-54a2ade78eaa",
          "product_name": "osparc",
          "can_save": true,
          "service_resources": {
            "container": {
              "image": "simcore/services/dynamic/jupyter-math:2.0.5",
              "resources": {
                "CPU": {
                  "limit": 0.1,
                  "reservation": 0.1
                },
                "RAM": {
                  "limit": 2147483648,
                  "reservation": 2147483648
                }
              },
              "boot_modes": [
                "CPU"
              ]
            }
          },
          "wallet_info": {
            "wallet_id": 1,
            "wallet_name": "My Wallet"
          }
        }
      },
      "HTTPValidationError": {
        "properties": {
          "errors": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Validation errors"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "HealthCheckGet": {
        "properties": {
          "timestamp": {
            "type": "string",
            "title": "Timestamp"
          }
        },
        "type": "object",
        "required": [
          "timestamp"
        ],
        "title": "HealthCheckGet",
        "example": {
          "timestamp": "simcore_service_directorv2.api.routes.health@2023-07-03T12:59:12.024551+00:00"
        }
      },
      "ImageResources": {
        "properties": {
          "image": {
            "type": "string",
            "pattern": "^(?:([a-z0-9-]+(?:\\.[a-z0-9-]+)+(?::\\d+)?|[a-z0-9-]+:\\d+)/)?((?:[a-z0-9][a-z0-9_.-]*/)*[a-z0-9-_]+[a-z0-9])(?::([\\w][\\w.-]{0,127}))?(\\@sha256:[a-fA-F0-9]{32,64})?$",
            "title": "Image",
            "description": "Used by the frontend to provide a context for the users.Services with a docker-compose spec will have multiple entries.Using the `image:version` instead of the docker-compose spec is more helpful for the end user."
          },
          "resources": {
            "additionalProperties": {
              "$ref": "#/components/schemas/ResourceValue"
            },
            "type": "object",
            "title": "Resources"
          },
          "boot_modes": {
            "items": {
              "$ref": "#/components/schemas/BootMode"
            },
            "type": "array",
            "description": "describe how a service shall be booted, using CPU, MPI, openMP or GPU",
            "default": [
              "CPU"
            ]
          }
        },
        "type": "object",
        "required": [
          "image",
          "resources"
        ],
        "title": "ImageResources",
        "example": {
          "image": "simcore/service/dynamic/pretty-intense:1.0.0",
          "resources": {
            "CPU": {
              "limit": 4,
              "reservation": 0.1
            },
            "RAM": {
              "limit": 103079215104,
              "reservation": 536870912
            },
            "VRAM": {
              "limit": 1,
              "reservation": 1
            },
            "AIRAM": {
              "limit": 1,
              "reservation": 1
            },
            "ANY_resource": {
              "limit": "some_value",
              "reservation": "some_value"
            }
          }
        }
      },
      "JupyterHubTokenAuthentication": {
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "jupyterhub"
            ],
            "title": "Type",
            "default": "jupyterhub"
          },
          "api_token": {
            "type": "string",
            "title": "Api Token"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "api_token"
        ],
        "title": "JupyterHubTokenAuthentication"
      },
      "KerberosAuthentication": {
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "kerberos"
            ],
            "title": "Type",
            "default": "kerberos"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "KerberosAuthentication"
      },
      "Meta": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name"
          },
          "version": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.(0|[1-9]\\d*)){2}(-(0|[1-9]\\d*|\\d*[-a-zA-Z][-\\da-zA-Z]*)(\\.(0|[1-9]\\d*|\\d*[-a-zA-Z][-\\da-zA-Z]*))*)?(\\+[-\\da-zA-Z]+(\\.[-\\da-zA-Z-]+)*)?$",
            "title": "Version"
          },
          "released": {
            "additionalProperties": {
              "type": "string",
              "pattern": "^(0|[1-9]\\d*)(\\.(0|[1-9]\\d*)){2}(-(0|[1-9]\\d*|\\d*[-a-zA-Z][-\\da-zA-Z]*)(\\.(0|[1-9]\\d*|\\d*[-a-zA-Z][-\\da-zA-Z]*))*)?(\\+[-\\da-zA-Z]+(\\.[-\\da-zA-Z-]+)*)?$"
            },
            "type": "object",
            "title": "Released",
            "description": "Maps every route's path tag with a released version"
          }
        },
        "type": "object",
        "required": [
          "name",
          "version"
        ],
        "title": "Meta",
        "example": {
          "name": "simcore_service_foo",
          "version": "2.4.45",
          "released": {
            "v1": "1.3.4",
            "v2": "2.4.45"
          }
        }
      },
      "NoAuthentication": {
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "none"
            ],
            "title": "Type",
            "default": "none"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "NoAuthentication"
      },
      "NodeState": {
        "properties": {
          "modified": {
            "type": "boolean",
            "title": "Modified",
            "description": "true if the node's outputs need to be re-computed",
            "default": true
          },
          "dependencies": {
            "items": {
              "type": "string",
              "format": "uuid"
            },
            "type": "array",
            "uniqueItems": true,
            "title": "Dependencies",
            "description": "contains the node inputs dependencies if they need to be computed first"
          },
          "currentStatus": {
            "allOf": [
              {
                "$ref": "#/components/schemas/RunningState"
              }
            ],
            "description": "the node's current state",
            "default": "NOT_STARTED"
          },
          "progress": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Progress",
            "description": "current progress of the task if available (None if not started or not a computational task)",
            "default": 0
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "NodeState"
      },
      "ObservationItem": {
        "properties": {
          "is_disabled": {
            "type": "boolean",
            "title": "Is Disabled"
          }
        },
        "type": "object",
        "required": [
          "is_disabled"
        ],
        "title": "ObservationItem"
      },
      "PipelineDetails": {
        "properties": {
          "adjacency_list": {
            "additionalProperties": {
              "items": {
                "type": "string",
                "format": "uuid"
              },
              "type": "array"
            },
            "type": "object",
            "title": "Adjacency List",
            "description": "The adjacency list of the current pipeline in terms of {NodeID: [successor NodeID]}"
          },
          "progress": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Progress",
            "description": "the progress of the pipeline (None if there are no computational tasks)"
          },
          "node_states": {
            "additionalProperties": {
              "$ref": "#/components/schemas/NodeState"
            },
            "type": "object",
            "title": "Node States",
            "description": "The states of each of the computational nodes in the pipeline"
          }
        },
        "type": "object",
        "required": [
          "adjacency_list",
          "progress",
          "node_states"
        ],
        "title": "PipelineDetails"
      },
      "ResourceValue": {
        "properties": {
          "limit": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              }
            ],
            "title": "Limit"
          },
          "reservation": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              }
            ],
            "title": "Reservation"
          }
        },
        "type": "object",
        "required": [
          "limit",
          "reservation"
        ],
        "title": "ResourceValue"
      },
      "RetrieveDataIn": {
        "properties": {
          "port_keys": {
            "items": {
              "type": "string",
              "pattern": "^[-_a-zA-Z0-9]+$"
            },
            "type": "array",
            "title": "Port Keys",
            "description": "The port keys to retrieve data from"
          }
        },
        "type": "object",
        "required": [
          "port_keys"
        ],
        "title": "RetrieveDataIn"
      },
      "RetrieveDataOut": {
        "properties": {
          "size_bytes": {
            "type": "integer",
            "title": "Size Bytes",
            "description": "The amount of data transferred by the retrieve call"
          }
        },
        "type": "object",
        "required": [
          "size_bytes"
        ],
        "title": "RetrieveDataOut"
      },
      "RetrieveDataOutEnveloped": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/RetrieveDataOut"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "RetrieveDataOutEnveloped"
      },
      "RunningDynamicServiceDetails": {
        "properties": {
          "service_key": {
            "type": "string",
            "pattern": "^simcore/services/dynamic/([a-z0-9][a-z0-9_.-]*/)*([a-z0-9-_]+[a-z0-9])$",
            "title": "Service Key",
            "description": "distinctive name for the node based on the docker registry path"
          },
          "service_version": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.(0|[1-9]\\d*)){2}(-(0|[1-9]\\d*|\\d*[-a-zA-Z][-\\da-zA-Z]*)(\\.(0|[1-9]\\d*|\\d*[-a-zA-Z][-\\da-zA-Z]*))*)?(\\+[-\\da-zA-Z]+(\\.[-\\da-zA-Z-]+)*)?$",
            "title": "Service Version",
            "description": "semantic version number of the node"
          },
          "user_id": {
            "type": "integer",
            "exclusiveMinimum": true,
            "title": "User Id",
            "minimum": 0
          },
          "project_id": {
            "type": "string",
            "format": "uuid",
            "title": "Project Id"
          },
          "service_uuid": {
            "type": "string",
            "format": "uuid",
            "title": "Service Uuid"
          },
          "service_basepath": {
            "type": "string",
            "format": "path",
            "title": "Service Basepath",
            "description": "predefined path where the dynamic service should be served. If empty, the service shall use the root endpoint."
          },
          "boot_type": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ServiceBootType"
              }
            ],
            "description": "Describes how the dynamic services was started (legacy=V0, modern=V2).Since legacy services do not have this label it defaults to V0.",
            "default": "V0"
          },
          "service_host": {
            "type": "string",
            "title": "Service Host",
            "description": "the service swarm internal host name"
          },
          "service_port": {
            "type": "integer",
            "exclusiveMaximum": true,
            "exclusiveMinimum": true,
            "title": "Service Port",
            "description": "the service swarm internal port",
            "maximum": 65535,
            "minimum": 0
          },
          "published_port": {
            "type": "integer",
            "exclusiveMaximum": true,
            "exclusiveMinimum": true,
            "title": "Published Port",
            "description": "the service swarm published port if any",
            "deprecated": true,
            "maximum": 65535,
            "minimum": 0
          },
          "entry_point": {
            "type": "string",
            "title": "Entry Point",
            "description": "if empty the service entrypoint is on the root endpoint.",
            "deprecated": true
          },
          "service_state": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ServiceState"
              }
            ],
            "description": "service current state"
          },
          "service_message": {
            "type": "string",
            "title": "Service Message",
            "description": "additional information related to service state"
          }
        },
        "type": "object",
        "required": [
          "service_key",
          "service_version",
          "user_id",
          "project_id",
          "service_uuid",
          "service_host",
          "service_port",
          "service_state"
        ],
        "title": "RunningDynamicServiceDetails"
      },
      "RunningState": {
        "type": "string",
        "enum": [
          "UNKNOWN",
          "PUBLISHED",
          "NOT_STARTED",
          "PENDING",
          "WAITING_FOR_RESOURCES",
          "STARTED",
          "SUCCESS",
          "FAILED",
          "ABORTED",
          "WAITING_FOR_CLUSTER"
        ],
        "title": "RunningState",
        "description": "State of execution of a project's computational workflow\n\nSEE StateType for task state"
      },
      "Scheduler": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status",
            "description": "The running status of the scheduler"
          },
          "workers": {
            "additionalProperties": {
              "$ref": "#/components/schemas/Worker"
            },
            "type": "object",
            "title": "Workers"
          }
        },
        "type": "object",
        "required": [
          "status"
        ],
        "title": "Scheduler"
      },
      "ServiceBootType": {
        "type": "string",
        "enum": [
          "V0",
          "V2"
        ],
        "title": "ServiceBootType",
        "description": "An enumeration."
      },
      "ServiceState": {
        "enum": [
          "pending",
          "pulling",
          "starting",
          "running",
          "complete",
          "failed",
          "stopping"
        ],
        "title": "ServiceState",
        "description": "An enumeration."
      },
      "SimpleAuthentication": {
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "simple"
            ],
            "title": "Type",
            "default": "simple"
          },
          "username": {
            "type": "string",
            "title": "Username"
          },
          "password": {
            "type": "string",
            "format": "password",
            "title": "Password",
            "writeOnly": true
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "username",
          "password"
        ],
        "title": "SimpleAuthentication"
      },
      "TaskCounts": {
        "properties": {
          "error": {
            "type": "integer",
            "title": "Error",
            "default": 0
          },
          "memory": {
            "type": "integer",
            "title": "Memory",
            "default": 0
          },
          "executing": {
            "type": "integer",
            "title": "Executing",
            "default": 0
          }
        },
        "type": "object",
        "title": "TaskCounts"
      },
      "TaskLogFileGet": {
        "properties": {
          "task_id": {
            "type": "string",
            "format": "uuid",
            "title": "Task Id"
          },
          "download_link": {
            "type": "string",
            "maxLength": 65536,
            "minLength": 1,
            "format": "uri",
            "title": "Download Link",
            "description": "Presigned link for log file or None if still not available"
          }
        },
        "type": "object",
        "required": [
          "task_id"
        ],
        "title": "TaskLogFileGet"
      },
      "UsedResources": {
        "additionalProperties": {
          "type": "number",
          "minimum": 0.0
        },
        "type": "object",
        "title": "UsedResources"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      },
      "WalletInfo": {
        "properties": {
          "wallet_id": {
            "type": "integer",
            "exclusiveMinimum": true,
            "title": "Wallet Id",
            "minimum": 0
          },
          "wallet_name": {
            "type": "string",
            "title": "Wallet Name"
          }
        },
        "type": "object",
        "required": [
          "wallet_id",
          "wallet_name"
        ],
        "title": "WalletInfo"
      },
      "Worker": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "resources": {
            "$ref": "#/components/schemas/DictModel_str__PositiveFloat_"
          },
          "used_resources": {
            "$ref": "#/components/schemas/UsedResources"
          },
          "memory_limit": {
            "type": "integer",
            "title": "Memory Limit"
          },
          "metrics": {
            "$ref": "#/components/schemas/WorkerMetrics"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "resources",
          "used_resources",
          "memory_limit",
          "metrics"
        ],
        "title": "Worker"
      },
      "WorkerMetrics": {
        "properties": {
          "cpu": {
            "type": "number",
            "title": "Cpu",
            "description": "consumed % of cpus"
          },
          "memory": {
            "type": "integer",
            "title": "Memory",
            "description": "consumed memory"
          },
          "num_fds": {
            "type": "integer",
            "title": "Num Fds",
            "description": "consumed file descriptors"
          },
          "task_counts": {
            "allOf": [
              {
                "$ref": "#/components/schemas/TaskCounts"
              }
            ],
            "title": "Task Counts",
            "description": "task details"
          }
        },
        "type": "object",
        "required": [
          "cpu",
          "memory",
          "num_fds",
          "task_counts"
        ],
        "title": "WorkerMetrics"
      }
    }
  }
}
