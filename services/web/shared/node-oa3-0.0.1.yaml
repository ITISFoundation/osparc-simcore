openapi: 3.0.1
servers: []

info:
  description: OSparc Node UI API
  version: "0.0.1"
  title: OSparc Node UI REST API
  contact:
    name: Tobias Oetiker
    email: tobi@itis.swiss
  license:
    name: MIT
    url: 'https://opensource.org/licenses/MIT'

tags:
  - name: node api
    description: |
      The simcore frontend provides a bunch of custom ui elements for nodes to interact with users.
      The frontend uses these api calls to query the nodes about the gui elemets they want to use, and it
      defines the protocol for the frontend to interact with the node.

paths:
  /node/{nodeInstanceUUID}/mainUi:
    get:
      tags:
        - node api
      summary: get a json description of the ui to use to present the node specific ui
      # a custom json schema for this description has to be provided
    post:
      tags:
        -node api
      summary: send data back. the protocol depends on the ui description.
  /node/{nodeInstanceUUID}/outputUi/{outputKey}:
    get:
      tags:
        - node api
      summary: get a json description  of the ui for presenting the output within the mainUi
      # a custom json schema for this description has to be provided
    post:
      tags:
        - node api
      summary: send data back to the output api ... protocol depends on the definition
  /node/{nodeInstanceUUID}/iframe:
    get:
      tags:
        - node api
      summary: entry point for iframe interaction with the node. This relies also on the reverse proxy code.
