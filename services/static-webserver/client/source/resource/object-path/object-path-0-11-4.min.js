!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):e.objectPath=t()}(this,function(){"use strict";var t=Object.prototype.toString;function u(e,t){return null!=e&&Object.prototype.hasOwnProperty.call(e,t)}function s(e){if(!e)return 1;if(a(e)&&0===e.length)return 1;if("string"!=typeof e){for(var t in e)if(u(e,t))return;return 1}}function p(e){return t.call(e)}var a=Array.isArray||function(e){return"[object Array]"===t.call(e)};function y(e){var t=parseInt(e);return t.toString()===e?t:e}function e(i){i=i||{};var o=function(r){return Object.keys(o).reduce(function(e,t){return"create"===t||"function"==typeof o[t]&&(e[t]=o[t].bind(o,r)),e},{})};function f(e,t){return i.includeInheritedProps||"number"==typeof t&&Array.isArray(e)||u(e,t)}function c(e,t){if(f(e,t))return e[t]}function l(e,t,r,n){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if("string"==typeof t)return l(e,t.split(".").map(y),r,n);var i=t[0],u=c(e,i);return 1===t.length?(void 0!==u&&n||(e[i]=r),u):(void 0===u&&("number"==typeof t[1]?e[i]=[]:e[i]={}),l(e[i],t.slice(1),r,n))}return o.has=function(e,t){if("number"==typeof t?t=[t]:"string"==typeof t&&(t=t.split(".")),!t||0===t.length)return!!e;for(var r=0;r<t.length;r++){var n=y(t[r]);if(!("number"==typeof n&&a(e)&&n<e.length||(i.includeInheritedProps?n in Object(e):u(e,n))))return!1;e=e[n]}return!0},o.ensureExists=function(e,t,r){return l(e,t,r,!0)},o.set=function(e,t,r,n){return l(e,t,r,n)},o.insert=function(e,t,r,n){var i=o.get(e,t);n=~~n,a(i)||(i=[],o.set(e,t,i)),i.splice(n,0,r)},o.empty=function(e,t){var r,n;if(!s(t)&&(null!=e&&(r=o.get(e,t)))){if("string"==typeof r)return o.set(e,t,"");if("boolean"==typeof(u=r)||"[object Boolean]"===p(u))return o.set(e,t,!1);if("number"==typeof r)return o.set(e,t,0);if(a(r))r.length=0;else{if("object"!=typeof(i=r)||"[object Object]"!==p(i))return o.set(e,t,null);for(n in r)f(r,n)&&delete r[n]}var i,u}},o.push=function(e,t){var r=o.get(e,t);a(r)||(r=[],o.set(e,t,r)),r.push.apply(r,Array.prototype.slice.call(arguments,2))},o.coalesce=function(e,t,r){for(var n,i=0,u=t.length;i<u;i++)if(void 0!==(n=o.get(e,t[i])))return n;return r},o.get=function(e,t,r){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if(null==e)return r;if("string"==typeof t)return o.get(e,t.split("."),r);var n=y(t[0]),i=c(e,n);return void 0===i?r:1===t.length?i:o.get(e[n],t.slice(1),r)},o.del=function(e,t){if("number"==typeof t&&(t=[t]),null==e)return e;if(s(t))return e;if("string"==typeof t)return o.del(e,t.split("."));var r=y(t[0]);return f(e,r)?1!==t.length?o.del(e[r],t.slice(1)):(a(e)?e.splice(r,1):delete e[r],e):e},o}var r=e();return r.create=e,r.withInheritedProps=e({includeInheritedProps:!0}),r});