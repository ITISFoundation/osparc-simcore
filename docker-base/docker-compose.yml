services:
  osparc-base-python-3.10.10:
    image: ${DOCKER_HUB_ORGANISATION:-local}/osparc-base-python:3.10.10
    build:
      context: .
      dockerfile: Dockerfile.base
      args:
        - PYTHON_VERSION=3.10.10
      labels:
        org.opencontainers.image.created: "${BUILD_DATE}"
        org.opencontainers.image.source: "${VCS_URL}"
        org.opencontainers.image.revision: "${VCS_REF}"

  osparc-base-python-3.6.10:
    image: ${DOCKER_HUB_ORGANISATION:-local}/osparc-base-python:3.6.10
    build:
      context: .
      dockerfile: Dockerfile.base
      args:
        - PYTHON_VERSION=3.6.10
      labels:
        org.opencontainers.image.created: "${BUILD_DATE}"
        org.opencontainers.image.source: "${VCS_URL}"
        org.opencontainers.image.revision: "${VCS_REF}"

  osparc-builder-python-3.10.10:
    image: ${DOCKER_HUB_ORGANISATION:-local}/osparc-builder-python:3.10.10
    build:
      context: .
      dockerfile: Dockerfile.builder
      args:
        - PYTHON_VERSION=3.10.10
      labels:
        org.opencontainers.image.created: "${BUILD_DATE}"
        org.opencontainers.image.source: "${VCS_URL}"
        org.opencontainers.image.revision: "${VCS_REF}"

  osparc-builder-python-3.6.10:
    image: ${DOCKER_HUB_ORGANISATION:-local}/osparc-builder-python:3.6.10
    build:
      context: .
      dockerfile: Dockerfile.builder
      args:
        - PYTHON_VERSION=3.6.10
        - PIP_VERSION=21.3
      labels:
        org.opencontainers.image.created: "${BUILD_DATE}"
        org.opencontainers.image.source: "${VCS_URL}"
        org.opencontainers.image.revision: "${VCS_REF}"
