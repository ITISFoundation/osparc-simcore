paths:
  /announcements:
    get:
      tags:
        - announcements
      summary: List of Announcements
      operationId: get_announcements
      responses:
        "200":
          description: Announcements per product
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Announcements"
        "204":
          description: No Announcements to display
        default:
          $ref: "#/components/responses/DefaultErrorResponse"

components:
  responses:
    DefaultErrorResponse:
      $ref: "./openapi.yaml#/components/responses/DefaultErrorResponse"
  schemas:
    Announcements:
      title: Announcements
      type: array
      items:
        $ref: "#/components/schemas/Announcement"
    Announcement:
      title: Announcement
      type: object
      properties:
        id:
          title: id
          description: Announcement ID
          type: string
        products:
          title: Products
          description: Products in which the announcement should be displayed
          type: array
          items:
            type: string
            description: Product id
            example:
              - "osparc"
              - "tis"
              - "s4l"
              - "s4llite"
        start:
          title: Start
          description: From what time the Announcement should be displayed (UTC)
          type: string
        end:
          title: End
          description: At what time the Announcement should be excluded (UTC)
          type: string
        title:
          title: Title
          description: Title of the Announcement in HTML (max ~5 words)
          type: string
        description:
          title: Description
          description: A longer description of the Announcement in HTML (max ~15 words)
          type: string
        link:
          title: External link with more information
          description: External link that will be open when executing buttons related to the Announcement
          type: string
        widgets:
          title: Where in the app the Announcement should be displayed
          description: 3 different widgets are supported, 'login', 'ribbon' and 'user-menu'
          type: array
          items:
            type: string
            description: Product id
            example:
              - "login"
              - "ribbon"
              - "user-menu"
      additionalProperties: false
